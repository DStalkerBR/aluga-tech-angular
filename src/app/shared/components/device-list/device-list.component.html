<div class="container">
  <h2 class="page-title">Dispositivos Disponíveis para Aluguel</h2>

  <div class="device-list">
    <mat-card *ngFor="let device of devices" class="device-card">
      <img
        mat-card-image
        class="card-image"
        [src]="device.imageUrl"
        alt="Imagem do dispositivo"
      />
      <mat-card-content>
        <div class="device-info">
          <mat-card-header>
            <mat-card-title>{{ device.name }}</mat-card-title>
            <mat-card-subtitle>{{ device.status }}</mat-card-subtitle>
          </mat-card-header>
          <div class="device-details">
            <p class="rental-price">
              Preço de Aluguel: R$ {{ device.rentalPrice.toFixed(2) }}
            </p>
            <p *ngIf="device.availableTo" class="availability">
              Disponível de {{ device.availableFrom | date : "shortDate" }} a
              {{ device.availableTo | date : "shortDate" }}
            </p>
            <p *ngIf="!device.availableTo" class="availability">
              Disponível desde {{ device.availableFrom | date : "shortDate" }}
            </p>
          </div>
        </div>
        <mat-card-actions>
          <button mat-button color="primary" routerLink="{{ device.id }}">
            Detalhes
          </button>
          <button mat-button color="primary" [routerLink]="[device.id, 'edit']">
            Editar
          </button>
          <button mat-button color="warn" (click)="deleteDevice(device.id)">
            Deletar
          </button>
        </mat-card-actions>
      </mat-card-content>
    </mat-card>
  </div>

  <button mat-fab color="accent" class="add-button" (click)="testAddDevice()">
    <mat-icon>add</mat-icon>
  </button>
</div>
